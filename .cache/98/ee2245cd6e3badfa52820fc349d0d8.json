{"id":"V6NB","dependencies":[{"name":"/Users/yong/workspace/function-component/tsconfig.json","includedInParent":true,"mtime":1561089504586},{"name":"/Users/yong/workspace/function-component/package.json","includedInParent":true,"mtime":1560942313930},{"name":"../BiDirectionLinkedList","loc":{"line":16,"column":38},"parent":"/Users/yong/workspace/function-component/src/functionComponent/Components/MapItems.ts","resolved":"/Users/yong/workspace/function-component/src/functionComponent/BiDirectionLinkedList.ts"},{"name":"../functionComponent","loc":{"line":18,"column":34},"parent":"/Users/yong/workspace/function-component/src/functionComponent/Components/MapItems.ts","resolved":"/Users/yong/workspace/function-component/src/functionComponent/functionComponent.ts"},{"name":"./Null","loc":{"line":19,"column":21},"parent":"/Users/yong/workspace/function-component/src/functionComponent/Components/MapItems.ts","resolved":"/Users/yong/workspace/function-component/src/functionComponent/Components/Null.ts"}],"generated":{"js":"\"use strict\";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(exports,\"__esModule\",{value:!0});var e=require(\"../BiDirectionLinkedList\"),n=require(\"../functionComponent\"),r=require(\"./Null\"),o=r.Null,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]};exports.MapItems=i;var a=Symbol(\"NullData\"),s=0;exports.MapItems=i=n.toFunctionComponent(function(n){function r(){var t=null!==n&&n.apply(this,arguments)||this;return t.lastCallList=[],t.generation=0,t.keys=new e.BiDirectionLinkedList,t.weakKey=\"_wk\"+s++,t.removeOutDated=function(e){e.g!==t.generation&&(t.lastCallList[e.index]=a,e.data[t.weakKey]=void 0,t.keys.delete(e))},t}return t(r,n),r.prototype.render=function(t){var e=t[0],n=t[1];this.generation++;for(var r=this.lastCallList,i=this.generation,s=this.keys,u=this.weakKey,l=e.length,c=0,p=-1;c<l;c++){var f=(y=e[c])[u];if(void 0===f){var v={index:c,g:i,data:y};y[u]=v,s.add(v);var d=r.length;for(p+=1;p<d&&void 0!==r[p];p++);r[p]=y}else f.g=i,r[f.index]=y}s.walk(this.removeOutDated);c=0;for(var h=r.length;c<h;c++){var y;(y=r[c])===a?o():n(y)}},r}(n.Component));"},"sourceMaps":{"js":{"mappings":[{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":0}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":13}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":17}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":19}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":25}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":30}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":41}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":52}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":56}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":58}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":67}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":69}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":72}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":79}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":81}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":88}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":104}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":105}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":115}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":129}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":136}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":145}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":147}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":150}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":152}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":162}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":166}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":175}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":177}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":180}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":184}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":188}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":193}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":195}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":197}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":212}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":217}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":219}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":222}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":224}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":230}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":232}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":236}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":243}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":252}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":254}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":257}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":266}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":270}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":275}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":287}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":289}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":291}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":293}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":296}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":298}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":308}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":315}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":317}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":324}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":331}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":335}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":337}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":347}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":349}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":359}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":363}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":367}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":370}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":377}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":392}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":400}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":413}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":414}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":421}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":425}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":429}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":431}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":439}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":467}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":469}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":477}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":501}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":503}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":511}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":6,"column":6},"generated":{"line":1,"column":521}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":6,"column":13},"generated":{"line":1,"column":523}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":6,"column":13},"generated":{"line":1,"column":525}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":4},"generated":{"line":1,"column":530}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":15},"generated":{"line":1,"column":532}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":27},"generated":{"line":1,"column":543}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":27},"generated":{"line":1,"column":547}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":27},"generated":{"line":1,"column":551}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":27},"generated":{"line":1,"column":553}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":27},"generated":{"line":1,"column":556}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":27},"generated":{"line":1,"column":558}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":27},"generated":{"line":1,"column":560}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":27},"generated":{"line":1,"column":562}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":27},"generated":{"line":1,"column":572}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":27},"generated":{"line":1,"column":579}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":27},"generated":{"line":1,"column":583}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":27},"generated":{"line":1,"column":585}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":27},"generated":{"line":1,"column":588}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":10,"column":27},"generated":{"line":1,"column":598}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":80,"column":8},"generated":{"line":1,"column":602}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":80,"column":8},"generated":{"line":1,"column":610}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":80,"column":8},"generated":{"line":1,"column":619}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":621}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":20,"column":6},"generated":{"line":1,"column":625}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":20,"column":17},"generated":{"line":1,"column":627}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":20,"column":24},"generated":{"line":1,"column":634}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":646}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":23,"column":9},"generated":{"line":1,"column":648}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":650}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":658}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":667}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":1,"column":669}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":11},"generated":{"line":1,"column":671}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":30},"generated":{"line":1,"column":691}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":30},"generated":{"line":1,"column":700}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":1,"column":703}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":1,"column":712}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":1,"column":716}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":1,"column":720}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":1,"column":722}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":1,"column":729}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":1,"column":732}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":1,"column":734}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":1,"column":740}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":1,"column":745}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":31},"generated":{"line":1,"column":757}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":762}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":1,"column":769}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":27,"column":4},"generated":{"line":1,"column":771}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":27,"column":38},"generated":{"line":1,"column":784}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":787}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":789}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":28,"column":17},"generated":{"line":1,"column":800}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":802}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":804}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":29,"column":11},"generated":{"line":1,"column":809}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":29,"column":15},"generated":{"line":1,"column":813}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":29,"column":15},"generated":{"line":1,"column":815}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":837}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":839}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":30,"column":22},"generated":{"line":1,"column":847}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":30,"column":31},"generated":{"line":1,"column":853}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":71,"column":12},"generated":{"line":1,"column":857}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":71,"column":12},"generated":{"line":1,"column":859}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":71,"column":29},"generated":{"line":1,"column":874}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":71,"column":30},"generated":{"line":1,"column":883}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":72,"column":12},"generated":{"line":1,"column":886}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":72,"column":19},"generated":{"line":1,"column":888}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":72,"column":25},"generated":{"line":1,"column":892}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":72,"column":30},"generated":{"line":1,"column":894}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":73,"column":12},"generated":{"line":1,"column":907}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":73,"column":17},"generated":{"line":1,"column":909}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":73,"column":30},"generated":{"line":1,"column":922}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":73,"column":37},"generated":{"line":1,"column":924}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":73,"column":46},"generated":{"line":1,"column":931}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":74,"column":13},"generated":{"line":1,"column":933}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":74,"column":20},"generated":{"line":1,"column":935}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":74,"column":33},"generated":{"line":1,"column":940}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":74,"column":38},"generated":{"line":1,"column":942}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":74,"column":49},"generated":{"line":1,"column":956}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":75,"column":12},"generated":{"line":1,"column":958}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":75,"column":17},"generated":{"line":1,"column":960}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":75,"column":22},"generated":{"line":1,"column":965}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":75,"column":29},"generated":{"line":1,"column":972}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":138,"column":0},"generated":{"line":1,"column":977}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":78,"column":0},"generated":{"line":1,"column":979}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":72},"generated":{"line":1,"column":986}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":72},"generated":{"line":1,"column":988}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":72},"generated":{"line":1,"column":990}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":993}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":995}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":1005}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":1012}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":32,"column":11},"generated":{"line":1,"column":1021}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":1024}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":1028}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":1030}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":1032}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":32,"column":19},"generated":{"line":1,"column":1035}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":32,"column":19},"generated":{"line":1,"column":1037}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":32,"column":19},"generated":{"line":1,"column":1039}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":1042}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":1047}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":1,"column":1060}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":1,"column":1064}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":34,"column":15},"generated":{"line":1,"column":1068}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":1,"column":1070}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":34,"column":15},"generated":{"line":1,"column":1075}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":34,"column":29},"generated":{"line":1,"column":1088}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":1,"column":1090}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":34,"column":29},"generated":{"line":1,"column":1095}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":34,"column":41},"generated":{"line":1,"column":1106}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":1,"column":1108}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":34,"column":41},"generated":{"line":1,"column":1113}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":34,"column":47},"generated":{"line":1,"column":1118}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":1,"column":1120}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":34,"column":47},"generated":{"line":1,"column":1125}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":35,"column":14},"generated":{"line":1,"column":1133}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":35,"column":28},"generated":{"line":1,"column":1135}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":35,"column":34},"generated":{"line":1,"column":1137}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":36,"column":17},"generated":{"line":1,"column":1144}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":36,"column":21},"generated":{"line":1,"column":1146}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":36,"column":24},"generated":{"line":1,"column":1148}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":36,"column":42},"generated":{"line":1,"column":1151}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":36,"column":45},"generated":{"line":1,"column":1153}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":36,"column":49},"generated":{"line":1,"column":1155}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":36,"column":62},"generated":{"line":1,"column":1157}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":36,"column":67},"generated":{"line":1,"column":1161}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":1,"column":1162}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":38,"column":18},"generated":{"line":1,"column":1166}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":1,"column":1169}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":37,"column":25},"generated":{"line":1,"column":1171}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":37,"column":31},"generated":{"line":1,"column":1173}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":38,"column":41},"generated":{"line":1,"column":1177}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":1180}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":39,"column":27},"generated":{"line":1,"column":1188}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":1192}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":39,"column":38},"generated":{"line":1,"column":1194}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":40,"column":22},"generated":{"line":1,"column":1195}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":40,"column":22},"generated":{"line":1,"column":1199}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":40,"column":34},"generated":{"line":1,"column":1201}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":41,"column":20},"generated":{"line":1,"column":1202}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":41,"column":27},"generated":{"line":1,"column":1208}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":1210}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":42,"column":23},"generated":{"line":1,"column":1212}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":43,"column":20},"generated":{"line":1,"column":1214}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":43,"column":24},"generated":{"line":1,"column":1219}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":45,"column":17},"generated":{"line":1,"column":1222}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":45,"column":30},"generated":{"line":1,"column":1224}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":45,"column":41},"generated":{"line":1,"column":1227}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":46,"column":16},"generated":{"line":1,"column":1229}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":46,"column":21},"generated":{"line":1,"column":1231}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":46,"column":25},"generated":{"line":1,"column":1235}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":47,"column":22},"generated":{"line":1,"column":1238}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":47,"column":22},"generated":{"line":1,"column":1242}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":47,"column":39},"generated":{"line":1,"column":1244}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":47,"column":52},"generated":{"line":1,"column":1246}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":48,"column":21},"generated":{"line":1,"column":1253}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":48,"column":21},"generated":{"line":1,"column":1257}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":48,"column":55},"generated":{"line":1,"column":1260}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":48,"column":58},"generated":{"line":1,"column":1262}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":48,"column":75},"generated":{"line":1,"column":1264}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":49,"column":57},"generated":{"line":1,"column":1272}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":49,"column":24},"generated":{"line":1,"column":1276}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":49,"column":37},"generated":{"line":1,"column":1278}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":48,"column":91},"generated":{"line":1,"column":1281}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":53,"column":16},"generated":{"line":1,"column":1286}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":53,"column":29},"generated":{"line":1,"column":1288}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":53,"column":47},"generated":{"line":1,"column":1291}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":55,"column":16},"generated":{"line":1,"column":1298}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":55,"column":23},"generated":{"line":1,"column":1300}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":55,"column":27},"generated":{"line":1,"column":1302}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":56,"column":16},"generated":{"line":1,"column":1304}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":56,"column":29},"generated":{"line":1,"column":1306}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":56,"column":36},"generated":{"line":1,"column":1308}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":56,"column":45},"generated":{"line":1,"column":1315}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":1,"column":1317}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":59,"column":13},"generated":{"line":1,"column":1319}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":59,"column":18},"generated":{"line":1,"column":1324}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":59,"column":23},"generated":{"line":1,"column":1329}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":61,"column":17},"generated":{"line":1,"column":1345}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":61,"column":21},"generated":{"line":1,"column":1347}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":61,"column":13},"generated":{"line":1,"column":1349}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":61,"column":13},"generated":{"line":1,"column":1353}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":61,"column":24},"generated":{"line":1,"column":1357}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":61,"column":28},"generated":{"line":1,"column":1359}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":61,"column":41},"generated":{"line":1,"column":1361}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":61,"column":49},"generated":{"line":1,"column":1368}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":61,"column":53},"generated":{"line":1,"column":1370}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":61,"column":56},"generated":{"line":1,"column":1372}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":61,"column":61},"generated":{"line":1,"column":1376}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":62,"column":18},"generated":{"line":1,"column":1377}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":62,"column":18},"generated":{"line":1,"column":1381}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":62,"column":18},"generated":{"line":1,"column":1384}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":62,"column":25},"generated":{"line":1,"column":1386}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":62,"column":38},"generated":{"line":1,"column":1388}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":63,"column":25},"generated":{"line":1,"column":1394}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":64,"column":16},"generated":{"line":1,"column":1396}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":66,"column":16},"generated":{"line":1,"column":1400}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":66,"column":20},"generated":{"line":1,"column":1402}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":78,"column":0},"generated":{"line":1,"column":1407}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":30},"generated":{"line":1,"column":1409}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":72},"generated":{"line":1,"column":1410}},{"source":"functionComponent/Components/MapItems.ts","name":null,"original":{"line":25,"column":72},"generated":{"line":1,"column":1412}}],"sources":{"functionComponent/Components/MapItems.ts":"import { BiDirectionLinkedList, BiDirectionLinkedListNode } from \"../BiDirectionLinkedList\";\n// import EnhancedWeakMap from '../EWeakMap';\nimport { Component, toFunctionComponent } from \"../functionComponent\";\nimport { Null as NullModule } from './Null';\n\nconst Null = NullModule;\n\ntype Props<T> = [T[], (item: T) => void];\n\nlet MapItems = function<T>(...data: Props<T>) {\n    //\n}\n\ninterface ItemRecord extends BiDirectionLinkedListNode {\n    index: number;\n    g: number;\n    data: any;\n}\n\nconst NullData = Symbol('NullData');\n\n// todo: TS the generic here is gone and we got an 'unknown'\nlet id = 0;\n// tslint:disable-next-line:no-shadowed-variable\nMapItems = toFunctionComponent(class MapItems<T extends Object> extends Component<Props<T>> {\n    // lastKeyRecordMap = new EnhancedWeakMap<T, ItemRecord>();\n    lastCallList: Array<T | Symbol> = [];\n    generation = 0;\n    keys = new BiDirectionLinkedList<ItemRecord>();\n    private weakKey = '_wk' + (id++);\n\n    render([items, map]: Props<T>) {\n        this.generation ++;\n        const {lastCallList, generation, keys, weakKey} = this;\n        const itemsLength = items.length;\n        for (let i = 0, blankHoleIndex = -1; i < itemsLength; i++) {\n            const data = items[i];\n            const record = (data as any)[weakKey];\n            if (record === undefined) {\n                const newRecord = {\n                    index: i,\n                    g: generation,\n                    data\n                };\n                (data as any)[weakKey] = newRecord;\n                keys.add(newRecord);\n                const callListLength = lastCallList.length;\n                for (blankHoleIndex = blankHoleIndex + 1; blankHoleIndex < callListLength; blankHoleIndex++) {\n                    if (lastCallList[blankHoleIndex] === undefined) {\n                        break;\n                    }\n                }\n                lastCallList[blankHoleIndex] = data;\n            } else {\n                record.g = generation;\n                lastCallList[record.index] = data;\n            }\n        }\n        keys.walk(this.removeOutDated);\n\n        for (let i = 0, l = lastCallList.length; i < l; i++) {\n            const data = lastCallList[i];\n            if (data === NullData) {\n                Null();\n            } else {\n                map(data as T);\n            }\n        }\n    }\n\n    private removeOutDated = (record: ItemRecord) => {\n        if (record.g !== this.generation) {\n            this.lastCallList[record.index] = NullData;\n            (record.data as any)[this.weakKey] = undefined;\n            this.keys.delete(record);\n        }\n    }\n}) as any;\n\nexport {MapItems}\n\n/**\n * CallList: Data[]\n * Item {key, data, index?}\n * Set1{i1, i2, i3}\n * Set2{i2, i3, i4}\n * RemoveSet = Set1 - Set2\n * AddSet = Set2 - Set1\n * for {index} of RemoveSet {\n *      CallList[index] = undefined;\n *      delete Set1[key];\n * }\n * \n * for {key, data} of AddSet {\n *      let holeIndex = findHoleIndex(CallList) || CallList.length;\n *      CallList[holeIndex] = data;\n *      Set1[key] = {key, data, index: holeIndex};\n * }\n * for data of CallList {\n *      data === undefined ? Null() : map(data)\n * }\n */\n\n// const items: number[] = [];\n\n// MapItems(items, (item, i) => item, (item) => {\n//     // Child();\n// })\n\n/**\n * [1, 3]\n * call {1, 2, 3}\n * [1, 3, 2], newly added, and not holes found, just append to the end\n * call {2, 3}\n * [, 3, 2], got a missing call, leave a hole\n * call {3}\n * [, 3], safely remove the following holes\n * call {2, 3}\n * [2, 3], append it to the hole first to reduce the count of holes\n * \n * Summery:\n * lastCallList: Array<key | undefined>\n * lastCallListIndex: Map<key, number | undefined>\n * \n * let newCallList = Array(items.length).fill(undefined)\n * for every {fn, key} where newCallList[lastCallListIndex[key]] exists:\n *     newCallList[lastCallListIndex[key]] = fn\n * for every {fn, key} where lastCallListIndex[key] is undefined:\n *     if there is a hole in newCallList in index i:\n *         newCallList[i] = key;\n *         \n *              \n */ \n\n// type key = undefined | number;\n\n// const lastCallList: Array<key | undefined>\n// const lastCallListIndex: Map<key, number | undefined>\n\n\n"},"lineCount":null}},"error":null,"hash":"3c02e4d31dec2414090fe817e8635d00","cacheData":{"env":{}}}